# yamlskript

# YamlSkript Parser Wiki

## 개요
`YamlSkript` 파서는 YAML로 작성된 내용을 JavaScript 코드로 변환하는 역할을 수행합니다. 특히, 리액트 컴포넌트 및 기타 자바스크립트 요소를 YAML로 작성하여 이를 JSX로 변환하고 실행할 수 있도록 도와줍니다. 파서는 **Babel**의 파서 및 생성기(`@babel/parser`, `@babel/generator`)를 사용하여 AST(Abstract Syntax Tree)를 생성하고 이를 최종 자바스크립트 코드로 변환합니다.

## 주요 기능
파서는 다음과 같은 주요 기능을 포함하고 있습니다:

1. **React 컴포넌트 생성**: 리액트 함수형 및 클래스형 컴포넌트를 지원합니다. YAML로 작성된 리액트 컴포넌트를 파싱하여 JSX 코드로 변환합니다.
2. **상태 관리 및 이벤트 처리**: 리액트의 `useState`, `useEffect` 등의 훅을 지원하며, 컴포넌트에서 사용할 수 있도록 변환합니다.
3. **JSX 파싱 및 렌더링**: JSX 태그와 속성을 YAML에서 파싱하여 JSX 형식의 코드로 변환합니다.
4. **기타 JavaScript 요소 처리**: 변수 선언, 객체, 배열, 클래스, 함수, 조건문, 반복문 등 다양한 JavaScript 구문을 지원하여 YAML에서 정의한 내용을 코드로 변환합니다.
5. **Babel 파서를 통한 AST 생성**: 변환된 코드는 Babel 파서를 통해 AST로 변환되고, 이를 통해 코드의 정확성을 높이고 추가적인 코드 변환 작업을 수행합니다.

## YAML 문법 개요
YAML은 사람이 읽기 쉬운 데이터 직렬화 형식으로, 들여쓰기를 사용하여 데이터 계층을 표현합니다. YamlSkript에서는 YAML 문법을 바탕으로 자바스크립트 코드 구조를 정의합니다. YAML의 주요 특징과 문법은 다음과 같습니다:

1. **들여쓰기**: YAML은 들여쓰기를 사용하여 데이터 계층을 나타냅니다. 들여쓰기는 공백을 사용하며 탭은 사용하지 않습니다.
2. **키-값 쌍**: 데이터는 `키: 값` 형태로 정의됩니다. 각 키는 고유해야 하며, 값을 문자열, 숫자, 배열, 객체 등으로 설정할 수 있습니다.
3. **배열**: 배열은 `-` 기호를 사용하여 정의합니다. 여러 요소를 나열할 때 사용됩니다.
4. **주석**: `#` 기호를 사용하여 주석을 작성할 수 있습니다.

## 문법 설명 및 사용법
### 1. 컴포넌트 정의
YAML 파일에서 리액트 컴포넌트를 정의할 수 있습니다. 함수형 컴포넌트와 클래스형 컴포넌트를 모두 지원하며, 각 컴포넌트는 `name`과 `type`을 통해 정의됩니다.

- **함수형 컴포넌트**: 함수형 컴포넌트는 `type`을 `function`으로 설정하여 정의하며, `hooks`를 통해 상태(`useState`)나 사이드 이펙트(`useEffect`)를 추가할 수 있습니다. 컴포넌트의 JSX는 `jsx` 섹션에서 정의됩니다.

- **클래스형 컴포넌트**: 클래스형 컴포넌트는 `type`을 `class`로 설정하여 정의하며, `state`를 통해 초기 상태를 설정하고, `methods`를 통해 메서드를 정의할 수 있습니다. 마찬가지로 `jsx` 섹션에서 컴포넌트의 렌더링 내용을 정의합니다.

### 2. 변수 선언
YAML에서 변수 선언은 `variables` 섹션을 사용하여 정의됩니다. `var`, `let`, `const` 키워드를 사용하여 변수를 선언할 수 있으며, 각 변수의 이름과 값을 지정합니다.

### 3. 객체 및 배열 정의
- **객체 정의**: 객체는 `objects` 섹션에서 정의되며, 각 객체는 키-값 쌍으로 구성됩니다. 값은 문자열, 숫자, 함수 등 다양한 형태를 가질 수 있습니다.

- **배열 정의**: 배열은 `arrays` 섹션에서 정의되며, 각 배열의 요소를 나열하여 정의합니다.

### 4. 조건문 및 반복문 처리
- **조건문**: 조건문은 `conditions` 섹션에서 정의되며, `if`와 `else`를 사용하여 조건과 실행할 내용을 지정합니다.

- **반복문**: 반복문은 `loops` 섹션에서 정의되며, `for`, `while`, `doWhile` 등을 사용하여 반복 조건과 실행할 내용을 지정합니다.

### 5. 예외 처리
- **예외 처리**: 예외 처리는 `exceptions` 섹션에서 정의되며, `try`와 `catch`를 사용하여 예외 처리 블록을 설정할 수 있습니다.

## 코드 흐름 설명
### 1. 초기 설정 및 React Import 추가
파서는 생성되는 코드의 초기 부분에 YamlSkript에 의해 생성되었음을 나타내는 주석과 함께 React 기본 라이브러리를 추가합니다. 이를 통해 리액트 컴포넌트를 사용할 수 있도록 설정합니다.

### 2. JSX 변환 함수 (`parseJSX`)
YAML에서 작성된 JSX 요소를 파싱하여 JSX 형식의 문자열로 변환하는 역할을 합니다. 이 과정에서 `class` 속성은 `className`으로, `for` 속성은 `htmlFor`로 변환하여 React와의 호환성을 유지합니다. 또한, 재귀적으로 호출하여 트리 형태의 JSX 구조를 완성합니다.

### 3. 리액트 컴포넌트 생성
YAML에서 정의된 컴포넌트를 파싱하여 함수형 또는 클래스형 리액트 컴포넌트로 변환합니다. 함수형 컴포넌트의 경우 `useState`, `useEffect` 등의 훅을 지원하며, 클래스형 컴포넌트의 경우 상태와 메서드를 정의하고 `render` 메서드를 통해 JSX를 반환합니다.

### 4. 변수, 객체, 배열, 클래스 등 처리
파서는 `variables`, `objects`, `arrays`, `classes` 섹션을 파싱하여 각각의 자바스크립트 요소로 변환합니다. 변환된 요소들은 코드 내에서 사용할 수 있도록 적절히 선언됩니다.

### 5. 조건문 및 반복문 처리
YAML에서 정의된 조건문(`conditions`)과 반복문(`loops`)을 파싱하여 자바스크립트의 조건문과 반복문으로 변환합니다. 이를 통해 다양한 로직을 YAML에서 정의할 수 있습니다.

### 6. 예외 처리
`try...catch` 블록을 사용하여 예외 처리 로직을 YAML에서 정의하고, 이를 자바스크립트 코드로 변환합니다. 이를 통해 오류 발생 시 적절한 예외 처리를 수행할 수 있습니다.

### 7. Babel을 통한 AST 생성 및 코드 변환
파서는 최종적으로 변환된 코드를 Babel 파서를 통해 AST로 변환합니다. 이를 통해 코드의 구조를 유지하면서 추가적인 변환이나 최적화를 수행할 수 있으며, 최종적으로 JavaScript 코드로 변환됩니다.

## 문법 예시
### 컴포넌트 정의
- 함수형 컴포넌트는 `type`을 `function`으로 설정하고, `hooks` 섹션에서 `useState`, `useEffect` 등을 정의하여 상태와 사이드 이펙트를 관리합니다.
- 클래스형 컴포넌트는 `type`을 `class`로 설정하고, `state`와 `methods` 섹션을 통해 상태와 메서드를 정의합니다.

### 변수 선언
- `variables` 섹션에서 `var`, `let`, `const` 키워드를 사용하여 변수를 정의합니다. 변수의 이름과 초기 값을 함께 지정할 수 있습니다.

### 객체 및 배열 정의
- 객체는 `objects` 섹션에서 정의하며, 각 객체는 키-값 쌍으로 구성됩니다. 값은 문자열, 숫자, 함수 등이 될 수 있습니다.
- 배열은 `arrays` 섹션에서 정의하며, 요소를 나열하여 배열을 구성합니다.

### 조건문 및 반복문 처리
- 조건문은 `conditions` 섹션에서 `if`, `else if`, `else` 키워드를 사용하여 정의하며, 조건과 실행할 내용을 지정합니다.
- 반복문은 `loops` 섹션에서 `for`, `while`, `doWhile` 등을 사용하여 반복 조건과 실행할 내용을 지정합니다.

### 예외 처리
- `exceptions` 섹션을 사용하여 예외 처리 블록을 정의합니다. `try` 블록에 실행할 내용을, `catch` 블록에 예외 발생 시 처리할 내용을 지정합니다.

## 사용 예시
YamlSkript를 사용하여 리액트 컴포넌트와 자바스크립트 로직을 YAML로 정의하고, 이를 자동으로 JavaScript 코드로 변환하여 실행할 수 있습니다. 이를 통해 개발자는 복잡한 JavaScript 코드를 작성하는 대신 간단한 YAML 문법으로 쉽게 컴포넌트와 로직을 정의할 수 있습니다.

YamlSkript는 특히 프론트엔드 개발에서 반복되는 UI 컴포넌트 작성 작업을 간소화하고, YAML의 간결한 문법을 활용하여 생산성을 높이는 데 유용합니다.
